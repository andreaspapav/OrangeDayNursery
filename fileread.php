<?php

function resize_array($array,$n){
    for($x = 0; $x < $n; $x++){
        $rtn[$x] = $array[rand(0,(count($array) - 1))];
    }
    return $rtn;
}

function filter_images_with_word($images, $word){
    $out = [];
    for($i = 0; $i < count($images); $i++) {
        if (in_array($word,explode(".", $images[$i]))) {
            array_push($out, $images[$i]);
        }
    }
    return $out;
}

function filter_images_with_letter($images, $letter){
    $out = [];
    for($i = 0; $i < count($images); $i++) {
        if ($images[$i][0] == $letter) {
            array_push($out, $images[$i]);
        }
    }
    return $out;
}

include 'convert.php';

function parse_string($string){
    $string = strtolower($string);

    $string = preg_replace('/\bone\b/', '1', $string);
    $string = preg_replace('/\btwo\b/', '2', $string);
    $string = preg_replace('/\bthree\b/', '3', $string);
    $string = preg_replace('/\bfour\b/', '4', $string);
    $string = preg_replace('/\bfive\b/', '5', $string);
    $string = preg_replace('/\bsix\b/', '6', $string);
    $string = preg_replace('/\bseven\b/', '7', $string);
    $string = preg_replace('/\beight\b/', '8', $string);
    $string = preg_replace('/\bnine\b/', '9', $string);
    $string = preg_replace('/\bten\b/', '10', $string);

    $string = str_replace("black and white", "blackandwhite", $string);
    $string = str_replace("night time","nighttime" , $string);
    $string = str_replace("baby bird","babybird" , $string);
    $string = str_replace("fire engine","fireengine" , $string);
    $string = str_replace("emergency service","emergencyservices" , $string);
    $string = str_replace("clown fish","clownfish" , $string);
    $string = str_replace("dik dik","dikdik" , $string);
    $string = str_replace("sloth bear","slothbear" , $string);
    $string = str_replace("spectacled bear","spectacledbear" , $string);
    $string = str_replace("polar bear","polarbear" , $string);
    $string = str_replace("bumble bee","bumblebee" , $string);
    $string = str_replace("honey bee","honeybee" , $string);
    $string = str_replace("painted lady","paintedlady" , $string);
    $string = str_replace("monarch butterfly","monarchbutterfly" , $string);
    $string = str_replace("peacock butterfly","peacockbutterfly" , $string);
    $string = str_replace("atlantic ghost crab","atlanticghostcrab" , $string);
    $string = str_replace("fiddler crab","fiddlercrab" , $string);
    $string = str_replace("ghost crab","ghostcrab" , $string);
    $string = str_replace("halloween crab","halloweencrab" , $string);
    $string = str_replace("hermit crab","hermitcrab" , $string);
    $string = str_replace("american robin","americanrobin" , $string);
    $string = str_replace("blue tit","bluetit" , $string);
    $string = str_replace("collared dove","collareddove" , $string);
    $string = str_replace("guinea fowl","guineafowl" , $string);
    $string = str_replace("long-tailed tit","longtailtit" , $string);
    $string = str_replace("long tail tits","longtailtit" , $string);
    $string = str_replace("red cardinal","redcardinal" , $string);
    $string = str_replace("umbrella bird","umbrellabird" , $string);
    $string = str_replace("wood pigeon","woodpigeon" , $string);
    $string = str_replace("broad bean","broadbean" , $string);
    $string = str_replace("brussels sprout","brusselssprout" , $string);
    $string = str_replace("brussel sprout","brusselsprout" , $string);
    $string = str_replace("sweet corn","sweetcorn" , $string);
    $string = str_replace("sweet potato","sweetpotato" , $string);
    $string = str_replace("kiwi fruit","kiwifruit" , $string);
    $string = str_replace("ugli fruit","uglifruit" , $string);
    $string = str_replace("ugly fruit","uglifruit" , $string);

    $string = preg_replace('/\bthing\b/', '', $string);
    $string = preg_replace('/\bthings\b/', '', $string);
    $string = preg_replace('/\bbeginning\b/', '', $string);
    $string = preg_replace('/\bwith\b/', '', $string);
    $string = preg_replace('/\bthe\b/', '', $string);
    $string = preg_replace('/\bletter\b/', '', $string);
    $string = preg_replace('/\bsomething\b/', '', $string);
    $string = preg_replace('/\bstart\b/', '', $string);
    $string = preg_replace('/\bstarts\b/', '', $string);
    $string = preg_replace('/\bstarting\b/', '', $string);
    $string = preg_replace('/\bthat\b/', '', $string);
    $string = preg_replace('/\bpicture\b/', '', $string);
    $string = preg_replace('/\bpictures\b/', '', $string);
    $string = preg_replace('/\bof\b/', '', $string);
    $string = preg_replace('/\bmade\b/', '', $string);

    $string = str_replace("ice cream van","icecreamvan" , $string);
    $string = str_replace("brazil nut","brazilnut" , $string);
    $string = str_replace("veggie burger","veggieburger" , $string);
    $string = str_replace("mushroom burger","mushroomburger" , $string);
    $string = str_replace("chocolate cake","chocolatecake" , $string);
    $string = str_replace("raspberry cake","raspberrycake" , $string);
    $string = str_replace("strawberry cake","strawberrycake" , $string);
    $string = str_replace("chocolate chip muffin","chocolatechipmuffin" , $string);
    $string = str_replace("chocolate muffin","chocolatemuffin" , $string);
    $string = str_replace("chocolate pudding","chocolatepudding" , $string);
    $string = str_replace("potato chips","potatochips" , $string);
    $string = str_replace("currant bun","currantbun" , $string);
    $string = str_replace("easter egg","easteregg" , $string);
    $string = str_replace("hot cross bun","hotcrossbun" , $string);
    $string = str_replace("ice cream","icecream" , $string);
    $string = str_replace("ice cream sundae","icecreamsundae" , $string);
    $string = str_replace("knickerbocker glory","knickerbockerglory" , $string);
    $string = str_replace("yeast extract","yeastextract" , $string);
    $string = str_replace("cashew nut","cashewnut" , $string);
    $string = str_replace("peanut butter","peanutbutter" , $string);
    $string = str_replace("pumpkin seeds","pumpkinseeds" , $string);
    $string = str_replace("pumpkin seed","pumpkinseed" , $string);
    $string = str_replace("rice pudding","ricepudding" , $string);
    $string = str_replace("sesame seeds","sesameseeds" , $string);
    $string = str_replace("sesame seed","sesameseed" , $string);
    $string = str_replace("kale and potato soup","kaleandpotatosoup" , $string);
    $string = str_replace("vegetable soup","vegetablesoup" , $string);
    $string = str_replace("lentil soup","lentilsoup" , $string);
    $string = str_replace("strawberry pudding","strawberrypudding" , $string);
    $string = str_replace("pumpkin pie","pumpkinpie" , $string);
    $string = str_replace("multi-coloured","multicoloured" , $string);
    $string = str_replace("red and white","redandwhite" , $string);
    $string = str_replace("blue and white","blueandwhite" , $string);
    $string = str_replace("white and orange","whiteandorange" , $string);
    $string = str_replace("green and red","greenandred" , $string);
    $string = str_replace("black and white","blackandwhite" , $string);
    $string = str_replace("white and red","whiteandred" , $string);
    $string = str_replace("blue and yellow","blueandyellow" , $string);
    $string = str_replace("yellow and black","yellowandblack" , $string);
    $string = str_replace("black and blue","blackandblue" , $string);
    $string = str_replace("green and blue","greenandblue" , $string);
    $string = str_replace("blue and red","blueandred" , $string);
    $string = str_replace("blue and green","blueandgreen" , $string);
    $string = str_replace("pink and white","pinkandwhite" , $string);
    $string = str_replace("red and yellow","redandyellow" , $string);
    $string = str_replace("green and black","greenandblack" , $string);
    $string = str_replace("mollusc","mollusk" , $string);
    $string = str_replace("bunk bed","bunkbed" , $string);
    $string = str_replace("bean bag","beanbag" , $string);
    $string = str_replace("garden furniture","gardenfurniture" , $string);
    $string = str_replace("overbed table","overbedtable" , $string);
    $string = str_replace("camping table","campingtable" , $string);
    $string = str_replace("dinner table","dinnertable" , $string);
    $string = str_replace("coffee table","coffeetable" , $string);
    $string = str_replace("writing desk","writingdesk" , $string);
    $string = str_replace("clothes shop","clothesshop" , $string);
    $string = str_replace("department store","departmentstore" , $string);
    $string = str_replace("gift shop","giftshop" , $string);
    $string = str_replace("hardware store","hardwarestore" , $string);
    $string = str_replace("shoe shop","shoeshop" , $string);
    $string = str_replace("souvenir shop","souvenirshop" , $string);
    $string = str_replace("toy shop","toyshop" , $string);
    $string = str_replace("lego shop","legoshop" , $string);
    $string = str_replace("sweet shop","sweetshop" , $string);
    $string = str_replace("cd player","cdplayer" , $string);
    $string = str_replace("fairy lights","fairylights" , $string);
    $string = str_replace("christmas lights","christmaslights" , $string);
    $string = str_replace("food processor","foodprocessor" , $string);
    $string = str_replace("hair dryer","hairdryer" , $string);
    $string = str_replace("record player","recordplayer" , $string);
    $string = str_replace("sewing machine","sewingmachine" , $string);
    $string = str_replace("vacuum cleaner","vacuumcleaner" , $string);
    $string = str_replace("washing machine","washingmachine" , $string);
    $string = str_replace("light bulb","lightbulb" , $string);
    $string = str_replace("tablet computer","tabletcomputer" , $string);
    $string = str_replace("i pad","ipad" , $string);
    $string = str_replace("tower block","towerblock" , $string);
    $string = str_replace("duck pond","duckpond" , $string);
    $string = str_replace("wheat field","wheatfield" , $string);
    $string = str_replace("oilseed rape","oilseedrape" , $string);
    $string = str_replace("potato field","potatofield" , $string);
    $string = str_replace("fish pond","fishpond" , $string);
    $string = str_replace("garden pond","gardenpond" , $string);
    $string = str_replace("tropical rainforest","tropicalrainforest" , $string);
    $string = str_replace("village green","villagegreen" , $string);
    $string = str_replace("sand dune","sanddune" , $string);
    $string = str_replace("wood and metal","woodandmetal" , $string);
    $string = str_replace("cup and saucer","cupandsaucer" , $string);
    $string = str_replace("aurora borealis","auroraborealis" , $string);
    $string = str_replace("northern lights","northernlights" , $string);
    $string = str_replace("beach hut","beachhut" , $string);
    $string = str_replace("vegetable stew","vegetablestew" , $string);
    $string = str_replace("mushroom stew","mushroomstew" , $string);
    $string = str_replace("brick bridge","brickbridge" , $string);
    $string = str_replace("bridge over pond","bridgeoverpond" , $string);
    $string = str_replace("concete footbridge","concretefootbridge" , $string);
    $string = str_replace("forth rail bridge","forthrailbridge" , $string);
    $string = str_replace("clifton suspencion","cliftonsuspension" , $string);
    $string = str_replace("golden gate bridge","goldengatebridge" , $string);
    $string = str_replace("tower bridge","towerbridge" , $string);
    $string = str_replace("westminster bridge","westminsterbridge" , $string);
    $string = str_replace("foot bridge","footbridge" , $string);
    $string = str_replace("westminster abbey","westminsterabbey" , $string);
    $string = str_replace("car factory","carfactory" , $string);
    $string = str_replace("chocolate factory","chocolatefactory" , $string);
    $string = str_replace("jam factory","jamfactory" , $string);
    $string = str_replace("sugar refinery","sugarrefinery" , $string);
    $string = str_replace("sweet factory","sweetfactory" , $string);
    $string = str_replace("sikh temple","sikhtemple" , $string);
    $string = str_replace("leisure centre","leisurecentre" , $string);
    $string = str_replace("saint pauls","saintpauls" , $string);
    $string = str_replace("St Paul's","saintpauls" , $string);
    $string = str_replace("st pauls","saintpauls" , $string);
    $string = str_replace("lifeboat station","lifeboatstation" , $string);
    $string = str_replace("british museum","britishmuseum" , $string);
    $string = str_replace("london transport museum","londontransportmuseum" , $string);
    $string = str_replace("docklands museum","docklandsmuseum" , $string);
    $string = str_replace("national gallery","nationalgallery" , $string);
    $string = str_replace("natural history museum","naturalhistorymuseum" , $string);
    $string = str_replace("victoria and albert museum","victoriaandalbertmuseum" , $string);
    $string = str_replace("museum of childhood","museumofchildhood" , $string);
    $string = str_replace("science museum","sciencemuseum" , $string);
    $string = str_replace("office block","officeblock" , $string);
    $string = str_replace("buckingham palace","buckinghampalace" , $string);
    $string = str_replace("hampton court palace","hamptoncourtpalace" , $string);
    $string = str_replace("hampton court","hamptoncourt" , $string);
    $string = str_replace("kensington palace","kensingtonpalace" , $string);
    $string = str_replace("police station","policestation" , $string);
    $string = str_replace("post office","postoffice" , $string);
    $string = str_replace("railway station","railwaystation" , $string);
    $string = str_replace("train station","trainstation" , $string);
    $string = str_replace("power station","powerstation" , $string);
    $string = str_replace("charring cross","charringcross" , $string);
    $string = str_replace("kings cross","kingscross" , $string);
    $string = str_replace("saint pancras","saintpancras" , $string);
    $string = str_replace("st pancras","stpancras" , $string);
    $string = str_replace("victoria station","victoriastation" , $string);
    $string = str_replace("charring cross station","charringcrossstation" , $string);
    $string = str_replace("euston station","eustonstation" , $string);
    $string = str_replace("waterloo station","waterloo station" , $string);
    $string = str_replace("empire state building","empirestatebuilding" , $string);
    $string = str_replace("taipei 101","taipei101" , $string);
    $string = str_replace("the shard","theshard" , $string);
    $string = str_replace("burj khalifa","burjkhalifa" , $string);
    $string = str_replace("hindu temple","hindutemple" , $string);
    $string = str_replace("national theatre","nationaltheatre" , $string);
    $string = str_replace("palace theatre","palacetheatre" , $string);
    $string = str_replace("globe theatre","globetheatre" , $string);
    $string = str_replace("old vic","oldvic" , $string);
    $string = str_replace("Saint martins theatre","saintmartinstheatre" , $string);
    $string = str_replace("her majestys theatre","hermajestystheatre" , $string);
    $string = str_replace("royal albert hall","royalalberthall" , $string);
    $string = str_replace("her majestys","hermajestys" , $string);
    $string = str_replace("saint martins","saintmartins" , $string);
    $string = str_replace("St martins","stmartins" , $string);
    $string = str_replace("St martins theatre","saintmartinstheatre" , $string);
    $string = str_replace("tower block","towerblock" , $string);
    $string = str_replace("block of flat","blockofflats" , $string);
    $string = str_replace("underground station","undergroundstation" , $string);
    $string = str_replace("tube station","tubestation" , $string);
    $string = str_replace("turnpike lane","turnpikelane" , $string);
    $string = str_replace("king's college london","kingscollegelondon" , $string);
    $string = str_replace("university college london","universitycollegelondon" , $string);
    $string = str_replace("imperial college london","imperialcollegelondon" , $string);
    $string = str_replace("city university of london","cityuniversityoflondon" , $string);
    $string = str_replace("buzz aldrin","buzzaldrin" , $string);
    $string = str_replace("neil armstrong","neilarmstrong" , $string);
    $string = str_replace("helen sharman","helensharman" , $string);
    $string = str_replace("valentina tereshkova","valentinatereshkova" , $string);
    $string = str_replace("bruce mccandless","brucemccandless" , $string);
    $string = str_replace("sally ride","sallyride" , $string);
    $string = str_replace("john young","johnyoung" , $string);
    $string = str_replace("michael hopkins","michaelhopkins" , $string);
    $string = str_replace("lunar lander","lunarlander" , $string);
    $string = str_replace("lunar rover","lunar rover" , $string);
    $string = str_replace("fashion designer","fashiondesigner" , $string);
    $string = str_replace("fire woman","firewoman" , $string);
    $string = str_replace("painter and decorator","painteranddecorator" , $string);
    $string = str_replace("train driver","traindriver" , $string);
    $string = str_replace("veterinary nurse","veterinarynurse" , $string);
    $string = str_replace("car track","cartrack" , $string);
    $string = str_replace("toy car","toycar" , $string);
    $string = str_replace("cuddly toy","cuddlytoy" , $string);
    $string = str_replace("cuddly bunny","cuddlybunny" , $string);
    $string = str_replace("cuddly elephant","cuddlyelephant" , $string);
    $string = str_replace("cuddly hippo","cuddlyhippo" , $string);
    $string = str_replace("cuddly panda","cuddlypanda" , $string);
    $string = str_replace("cuddly robot","cuddlyrobot" , $string);
    $string = str_replace("dolls house","dollshouse" , $string);
    $string = str_replace("board game","boardgame" , $string);
    $string = str_replace("snakes and ladders","snakesandladders" , $string);
    $string = str_replace("mouse trap","mousetrap" , $string);
    $string = str_replace("jigsaw puzzle","jigsawpuzzle" , $string);
    $string = str_replace("doll's house","dollshouse" , $string);
    $string = str_replace("play-doh","playdough" , $string);
    $string = str_replace("Play-Doh factory","playdohfactory" , $string);
    $string = str_replace("fun factory","funfactory" , $string);
    $string = str_replace("rocking horse","rockinghorse" , $string);
    $string = str_replace("rubber duck","rubberduck" , $string);
    $string = str_replace("roller skates","rollerskates" , $string);
    $string = str_replace("rubik's cube","rubikscube" , $string);
    $string = str_replace("skipping rope","skippingrope" , $string);
    $string = str_replace("space hopper","spacehopper" , $string);
    $string = str_replace("tea set","teaset" , $string);
    $string = str_replace("teddy bear","teddybear" , $string);
    $string = str_replace("toy caterpillar","toycaterpillar" , $string);
    $string = str_replace("toy ducks","toyducks" , $string);
    $string = str_replace("toy garage","toygarage" , $string);
    $string = str_replace("toy bus","toybus" , $string);
    $string = str_replace("toy penguins","toypenguins" , $string);
    $string = str_replace("toy snail","toysnail" , $string);
    $string = str_replace("toy train","toytrain" , $string);
    $string = str_replace("toy instrument","toyinstrument" , $string);
    $string = str_replace("video game","videogame" , $string);
    $string = str_replace("yo-yo","yoyo" , $string);
    $string = str_replace("toy duck","toyduck" , $string);
    $string = str_replace("toy penguin","toypenguin" , $string);
    $string = str_replace("passenger jet","passengerjet" , $string);
    $string = str_replace("light aircraft","lightaircraft" , $string);
    $string = str_replace("red arrows","redarrows" , $string);
    $string = str_replace("narrow boat","narrowboat" , $string);
    $string = str_replace("pleasure cruiser","pleasurecruiser" , $string);
    $string = str_replace("rowing boat","rowingboat" , $string);
    $string = str_replace("sailing boat","sailingboat" , $string);
    $string = str_replace("speed boat","speedboat" , $string);
    $string = str_replace("school bus","schoolbus" , $string);
    $string = str_replace("combine harvester","combineharvester" , $string);
    $string = str_replace("fire engine","fireengine" , $string);
    $string = str_replace("gypsy caravan","gipsycaravan" , $string);
    $string = str_replace("hot air balloon","hotairballoon" , $string);

    $string = str_replace("jet ski","jetski" , $string);
    $string = str_replace("motor bike","motorbike" , $string);
    $string = str_replace("police car","policecar" , $string);
    $string = str_replace("mobility scooter","mobilityscooter" , $string);
    $string = str_replace("cargo ship","cargoship" , $string);
    $string = str_replace("cruise ship","cruiseship" , $string);
    $string = str_replace("sailing ship","sailingship" , $string);
    $string = str_replace("tall ship","tallship" , $string);
    $string = str_replace("St Paul's","saintpauls" , $string);
    $string = str_replace("snow mobile","snowmobile" , $string);
    $string = str_replace("ski doo","skidoo" , $string);
    $string = str_replace("thomas the tank engine","thomasthetankengine" , $string);
    $string = str_replace("thomas the tank","thomasthetank" , $string);
    $string = str_replace("underground train","undergroundtrain" , $string);
    $string = str_replace("steam train","steamtrain" , $string);
    $string = str_replace("camper van","campervan" , $string);
    $string = str_replace("grand daughter","granddaughter" , $string);
    $string = str_replace("grand son","grandson" , $string);
    $string = str_replace("bon voyage","bonvoyage" , $string);
    $string = str_replace("excuse me","excuseme" , $string);
    $string = str_replace("good afternoon","goodafternoon" , $string);
    $string = str_replace("good bye","goodbye" , $string);
    $string = str_replace("See you later","seeyoulater" , $string);
    $string = str_replace("see you","seeyou" , $string);

    $string = str_replace("good luck","goodluck" , $string);
    $string = str_replace("good morning","goodmorning" , $string);
    $string = str_replace("good night","goodnight" , $string);
    $string = str_replace("happy birthday","happybirthday" , $string);
    $string = str_replace("happy christmas","happychristmas" , $string);
    $string = str_replace("happy easter","happyeaster" , $string);
    $string = str_replace("happy new year","happynewyear" , $string);
    $string = str_replace("how are you","howareyou" , $string);
    $string = str_replace("merry christmas","merrychristmas" , $string);
    $string = str_replace("nice to meet you","nicetomeetyou" , $string);
    $string = str_replace("pardon me","pardonme" , $string);
    $string = str_replace("pleased to meet you","pleasedtomeetyou" , $string);
    $string = str_replace("thank you","thankyou" , $string);
    $string = str_replace("united kingdom","unitedkingdom" , $string);
    $string = str_replace("trafalgar square","trafalgarsquare" , $string);
    $string = str_replace("leicester square","leicestersquare" , $string);
    $string = str_replace("north america","northamerica" , $string);
    $string = str_replace("south america","southamerica" , $string);
    $string = str_replace("world map","worldmap" , $string);
    $string = str_replace("forget me not","forgetmenot" , $string);
    $string = str_replace("forget-me-nots","forgetmenots" , $string);
    $string = str_replace("sweet pea","sweetpea" , $string);
    $string = str_replace("apple tree","appletree" , $string);
    $string = str_replace("bales of straw","balesofstraw" , $string);
    $string = str_replace("bale of straw","baleofstraw" , $string);
    $string = str_replace("bale of hay","baleofhay" , $string);
    $string = str_replace("bales of hay","balesofhay" , $string);
    $string = str_replace("apple blossom","appleblossom" , $string);
    $string = str_replace("cherry blossom","cherryblossom" , $string);
    $string = str_replace("4-leaf clover","fourleafclover" , $string);
    $string = str_replace("dandelion clock","dandelionclock" , $string);
    $string = str_replace("blackbird nest","blackbirdnest" , $string);
    $string = str_replace("frog spawn","frogspawn" , $string);
    $string = str_replace("toad spawn","toadspawn" , $string);
    $string = str_replace("nest box","nestbox" , $string);
    $string = str_replace("horse chestnut","horsechestnut" , $string);
    $string = str_replace("palm tree","palmtree" , $string);
    $string = str_replace("rose bud","rosebud" , $string);
    $string = str_replace("sticky seed","stickyseed" , $string);
    $string = str_replace("shooting star","shootingstar" , $string);
    $string = str_replace("sycamore seed","sycamoreseed" , $string);
    $string = str_replace("sea lion","sealion" , $string);
    $string = str_replace("bath mat","bathmat" , $string);
    $string = str_replace("kitchen sink","kitchensink" , $string);
    $string = str_replace("bathroom sink","bathroom sink" , $string);
    $string = str_replace("dust pan","dustpan" , $string);
    $string = str_replace("bubble bath","bubblebath" , $string);
    $string = str_replace("bucket and spade","bucketandspade" , $string);
    $string = str_replace("alarm clock","alarmclock" , $string);
    $string = str_replace("digital clock","digitalclock" , $string);
    $string = str_replace("cuckoo clock","cuckooclock" , $string);
    $string = str_replace("grandfather clock","grandfatherclock" , $string);
    $string = str_replace("tea towel","teatowel" , $string);
    $string = str_replace("cleaning cloth","cleaningcloth" , $string);
    $string = str_replace("sippy cup","sippycup" , $string);
    $string = str_replace("pie dish","piedish" , $string);
    $string = str_replace("door knob","doorknob" , $string);
    $string = str_replace("door handle","doorhandle" , $string);
    $string = str_replace("door mat","doormat" , $string);
    $string = str_replace("flower pot","flowerpot" , $string);
    $string = str_replace("baby groot","babygroot" , $string);
    $string = str_replace("frying pan","fryingpan" , $string);
    $string = str_replace("hair brushes","hairbrushes" , $string);
    $string = str_replace("hot water bottle","hotwaterbottle" , $string);
    $string = str_replace("brick making","brickmaking" , $string);
    $string = str_replace("christmas tree","christmastree" , $string);
    $string = str_replace("garden gnome","gardengnome" , $string);
    $string = str_replace("gold bar","goldbar" , $string);
    $string = str_replace("gold nugget","goldnugget" , $string);
    $string = str_replace("band aid","bandaid" , $string);
    $string = str_replace("silver goblet","silvergoblet" , $string);
    $string = str_replace("silver jewellery","silverjewellery" , $string);
    $string = str_replace("silver tea set","silverteaset" , $string);
    $string = str_replace("water vapour","watervapour" , $string);
    $string = str_replace("wind turbine","windturbine" , $string);
    $string = str_replace("wind farm","windfarm" , $string);
    $string = str_replace("american football","americanfootball" , $string);
    $string = str_replace("lawn bowls","lawnbowls" , $string);
    $string = str_replace("ten-pin bowling","tenpinbowling" , $string);
    $string = str_replace("figure skating","figureskating" , $string);
    $string = str_replace("ice hockey","icehockey" , $string);
    $string = str_replace("table tennis","tabletennis" , $string);
    $string = str_replace("ping pong","pingpong" , $string);
    $string = str_replace("water ski","waterski" , $string);
    $string = str_replace("water-skiing","waterskiing" , $string);
    $string = str_replace("school uniform","schooluniform" , $string);
    $string = str_replace("bow tie","bowtie" , $string);
    $string = str_replace("nighty","nightie" , $string);
    $string = str_replace("swimming costume","swimmingcostume" , $string);
    $string = str_replace("swimming trunks","swimmingtrunks" , $string);
    $string = str_replace("t-shirt","tshirt" , $string);
    $string = str_replace("wellington boot","wellingtonboot" , $string);
    $string = str_replace("dressing gown","dressinggown" , $string);
    $string = str_replace("baby grow","babygrow" , $string);
    $string = str_replace("coco","cocoa" , $string);
    $string = str_replace("cocoa drink","cocoadrink" , $string);
    $string = str_replace("hot chocolate","hotchocolate" , $string);
    $string = str_replace("fruit juice","fruitjuice" , $string);
    $string = str_replace("orange juice","orangejuice" , $string);
    $string = str_replace("milk shake","milkshake" , $string);
    $string = str_replace("fruit smoothie","fruitsmoothie" , $string);
    $string = str_replace("cup of tea","cupoftea" , $string);
    $string = str_replace("freight train","freighttrain" , $string);
    $string = str_replace("ash tree","ashtree" , $string);
    $string = str_replace("autumn tree","autumntree" , $string);
    $string = str_replace("fir tree","firtree" , $string);
    $string = str_replace("pear tree","peartree" , $string);
    $string = str_replace("lunar lander","lunarlander" , $string);
    $string = str_replace("lunar rover","lunarrover" , $string);
    $string = str_replace("crescent moon","crescentmoon" , $string);
    $string = str_replace("full moon","fullmoon" , $string);
    $string = str_replace("communication satellite","communicationsatellite" , $string);
    $string = str_replace("space station","spacestation" , $string);
    $string = str_replace("international space station","internationalspacestation" , $string);
    $string = str_replace("chinese space station","chinesespacestation" , $string);
    $string = str_replace("surface of the moon","surfaceofthemoon" , $string);
    $string = str_replace("spring flower","springflower" , $string);
    $string = str_replace("woolly mammoth","woollymammoth" , $string);
    $string = str_replace("sabre-tooth cat","sabretoothcat" , $string);
    $string = str_replace("sabre tooth tiger","sabretoothtiger" , $string);
    $string = str_replace("dodo bird","dodobird" , $string);
    $string = str_replace("dinosaur skeleton","dinosaurskeleton" , $string);
    $string = str_replace("brass band","brassband" , $string);
    $string = str_replace("brass instrument","brassinstrument" , $string);
    $string = str_replace("wind instrument","windinstrument" , $string);
    $string = str_replace("musical instrument","musicalinstrument" , $string);
    $string = str_replace("stringed instrument","stringedinstrument" , $string);
    $string = str_replace("double bass","doublebass" , $string);
    $string = str_replace("marching band","marchingband" , $string);
    $string = str_replace("rock band","rockband" , $string);
    $string = str_replace("steel band","steelband" , $string);
    $string = str_replace("steel drum","steeldrum" , $string);
    $string = str_replace("string quartet","stringquartet" , $string);
    $string = str_replace("hose pipe","hosepipe" , $string);
    $string = str_replace("lawn mower","lawnmower" , $string);
    $string = str_replace("christmas decoration","christmasdecoration" , $string);
    $string = str_replace("christmas trimming","christmastrimming" , $string);
    $string = str_replace("pop-up book","popupbook" , $string);
    $string = str_replace("bouncy castle","bouncycastle" , $string);
    $string = str_replace("comic book","comicbook" , $string);
    $string = str_replace("compact disc","compactdisc" , $string);
    $string = str_replace("hand bag","handbag" , $string);
    $string = str_replace("ear ring","earring" , $string);
    $string = str_replace("map reading","mapreading" , $string);
    $string = str_replace("felt pen","feltpen" , $string);
    $string = str_replace("spinning wheel","spinningwheel" , $string);
    $string = str_replace("hockey stick","hockeystick" , $string);
    $string = str_replace("ballpoint pen","ballpointpen" , $string);
    $string = str_replace("living room","livingroom" , $string);
    $string = str_replace("sitting room","sittingroom" , $string);
    $string = str_replace("front room","frontroom" , $string);
    $string = str_replace("beach ball","beachball" , $string);
    $string = str_replace("cricket ball","cricketball" , $string);
    $string = str_replace("golf ball","golfball" , $string);
    $string = str_replace("juggling ball","jugglingball" , $string);
    $string = str_replace("tennis ball","tennisball" , $string);
    $string = str_replace("snow globe","snowglobe" , $string);
    $string = str_replace("parcel tape","parceltape" , $string);
    $string = str_replace("duct tape","ducttape" , $string);
    $string = str_replace("baking tray","bakingtray" , $string);
    $string = str_replace("shopping trolley","shoppingtrolley" , $string);
    $string = str_replace("wrapping paper","wrappingpaper" , $string);
    $string = str_replace("cash machine","cashmachine" , $string);
    $string = str_replace("shopping basket","shoppingbasket" , $string);
    $string = str_replace("brick wall","brickwall" , $string);
    $string = str_replace("climbing frame","climbingframe" , $string);
    $string = str_replace("ferris wheel","ferriswheel" , $string);
    $string = str_replace("merry-go-round","merrygoround" , $string);
    $string = str_replace("litter bin","litterbin" , $string);
    $string = str_replace("market square","marketsquare" , $string);
    $string = str_replace("telephone box","telephonebox" , $string);
    $string = str_replace("phone box","phonebox" , $string);
    $string = str_replace("post box","postbox" , $string);
    $string = str_replace("pillar box","pillarbox" , $string);
    $string = str_replace("street lamp","streetlamp" , $string);
    $string = str_replace("lamp post","lamppost" , $string);
    $string = str_replace("traffic light","trafficlight" , $string);
    $string = str_replace("helter skelter","helterskelter" , $string);
    $string = str_replace("picnic bench","picnicbench" , $string);
    $string = str_replace("pedestrian crossing","pedestriancrossing" , $string);
    $string = str_replace("garden wall","gardenwall" , $string);
    $string = str_replace("dry stone wall","drystonewall" , $string);
    $string = str_replace("wheelie bin","wheeliebin" , $string);
    $string = str_replace("zebra crossing","zebracrossing" , $string);
    $string = str_replace("bus stop","busstop" , $string);
    $string = str_replace("bus shelter","busshelter" , $string);
    $string = str_replace("tennis racket","tenisracket" , $string);
    $string = str_replace("cricket bat","cricketbat" , $string);
    $string = str_replace("baseball bat","baseballbat" , $string);
    $string = str_replace("gem stone","gemstone" , $string);
    $string = str_replace("florence nightingale","florencenightingale" , $string);
    $string = str_replace("george washington","georgewashington" , $string);
    $string = str_replace("king alfred","kingalfred" , $string);
    $string = str_replace("peter pan","peterpan" , $string);
    $string = str_replace("queen victoria","queenvictoria" , $string);
    $string = str_replace("william shakespeare","williamshakespeare" , $string);
    $string = str_replace("air hockey","airhockey" , $string);
    $string = str_replace("table football","tablefootball" , $string);
    $string = str_replace("afghan hound","afghanhound" , $string);
    $string = str_replace("border collie","bordercollie" , $string);
    $string = str_replace("border collie puppy","bordercolliepuppy" , $string);
    $string = str_replace("bull terrier","bullterrier" , $string);
    $string = str_replace("eskimo dog","eskimodog" , $string);
    $string = str_replace("german shepherd dog","germanshepherddog" , $string);
    $string = str_replace("golden retriever","goldenretriever" , $string);
    $string = str_replace("great dane","greatdane" , $string);
    $string = str_replace("jack russell","jackrussell" , $string);
    $string = str_replace("king charles spaniel","kingcharlesspaniel" , $string);
    $string = str_replace("king charles spaniel puppy","kingcharlesspanielpuppy" , $string);
    $string = str_replace("st bernard","saintbernard" , $string);
    $string = str_replace("scottish terrier","scottishterrier" , $string);
    $string = str_replace("scottie dog","scottiedog" , $string);
    $string = str_replace("springer spaniel","springerspaniel" , $string);
    $string = str_replace("golden retriever puppy","goldenretrieverpuppy" , $string);
    $string = str_replace("dusky leaf monkey","duskyleafmonkey" , $string);
    $string = str_replace("golden langur","goldenlangur" , $string);
    $string = str_replace("golden snub nosed monkey","goldensnubnosedmonkey" , $string);
    $string = str_replace("howler monkey","howlermonkey" , $string);
    $string = str_replace("proboscis monkey","proboscis monkey" , $string);
    $string = str_replace("spider monkey","spidermonkey" , $string);
    $string = str_replace("squirrel monkey","squirrelmonkey" , $string);
    $string = str_replace("rhesus monkey","rhesusmonkey" , $string);
    $string = str_replace("dragon fly","dragonfly" , $string);
    $string = str_replace("arctic fox","arcticfox" , $string);
    $string = str_replace("fennec fox","fennecfox" , $string);
    $string = str_replace("red fox","redfox" , $string);
    $string = str_replace("guinea pig","guineapig" , $string);
    $string = str_replace("jelly fish","jellyfish" , $string);
    $string = str_replace("komodo dragon","komododragon" , $string);
    $string = str_replace("mountain lion","mountainlion" , $string);
    $string = str_replace("red panda","redpanda" , $string);
    $string = str_replace("slow loris","slowloris" , $string);
    $string = str_replace("star fish","starfish" , $string);
    $string = str_replace("sword fish","swordfish" , $string);
    $string = str_replace("tasmanian devil","tasmaniandevil" , $string);
    $string = str_replace("baby sea turtle","babyseaturtle" , $string);
    $string = str_replace("sea turtle","seaturtle" , $string);
    $string = str_replace("baby turtle","babyturtle" , $string);
    $string = str_replace("blue whale","bluewhale" , $string);
    $string = str_replace("humpback whale","humpbackwhale" , $string);
    $string = str_replace("killer whale","killerwhale" , $string);
    $string = str_replace("wild boar","wildboar" , $string);
    $string = str_replace("x-ray fish","xrayfish" , $string);
    $string = str_replace("pin cushion","pincushion" , $string);
    $string = str_replace("garden rake","gardenrake" , $string);
    $string = str_replace("garden fork","gardenfork" , $string);
    $string = str_replace("kitchen roll","kitchenroll" , $string);
    $string = str_replace("kitchen paper","kitchenpaper" , $string);
    $string = str_replace("paper towel","papertowel" , $string);
    $string = str_replace("letter box","letterbox" , $string);
    $string = str_replace("rolling pin","rollingpin" , $string);
    $string = str_replace("rubber glove","rubberglove" , $string);
    $string = str_replace("toilet paper","toiletpaper" , $string);
    $string = str_replace("washing up liquid","washingupliquid" , $string);
    $string = str_replace("lemon squeezy","lemonsqueezy" , $string);
    $string = str_replace("banff national park","banffnationalpark" , $string);
    $string = str_replace("ben nevis","bennevis" , $string);
    $string = str_replace("mount fitzroy","mountfitzroy" , $string);
    $string = str_replace("mount fuji","mountfuji" , $string);
    $string = str_replace("mount mckinley","mountmckinley" , $string);
    $string = str_replace("swiss alp","swissalp" , $string);
    $string = str_replace("great horned owl","greathornedowl" , $string);
    $string = str_replace("little owl","littleowl" , $string);
    $string = str_replace("long eared owl","longearedowl" , $string);
    $string = str_replace("eagle owl","eagleowl" , $string);
    $string = str_replace("spectacled owl chick","spectacledowlchick" , $string);
    $string = str_replace("spectacled owl","spectacledowl" , $string);
    $string = str_replace("screech owl","screechowl" , $string);
    $string = str_replace("barn owl","barnowl" , $string);
    $string = str_replace("great grey owl","greatgreyowl" , $string);
    $string = str_replace("snowy owl","snowyowl" , $string);
    $string = str_replace("tawny owl","tawnyowl" , $string);
    $string = str_replace("white faced scops owl","whitefacedscopsowl" , $string);
    $string = str_replace("eagle owl chick","eagleowlchick" , $string);
    $string = str_replace("speckled owl","speckledowl" , $string);
    $string = str_replace("rockhopper penguin","rockhopperpenguin" , $string);
    $string = str_replace("humboldt penguin","humboldtpenguin" , $string);
    $string = str_replace("king penguin","kingpenguin" , $string);
    $string = str_replace("chinstrap penguin ","chinstrappenguin" , $string);
    $string = str_replace("emperor penguin","emperorpenguin" , $string);
    $string = str_replace("adelie penguin","adeliepenguin" , $string);
    $string = str_replace("african penguin","africanpenguin" , $string);
    $string = str_replace("west highland terrier","westhighlandterrier" , $string);
    $string = str_replace("yorkshire terrier puppy","yorkshireterrierpuppy" , $string);
    $string = str_replace("toy dragon","toydragon" , $string);
    $string = str_replace("toy mermaid","toymermaid" , $string);
    $string = str_replace("cuddly dragon","cuddlydragon" , $string);
    $string = str_replace("toy unicorn","toyunicorn" , $string);
    $string = str_replace("union jack","unionjack" , $string);
    $string = str_replace("union flag","unionflag" , $string);
    $string = str_replace("flag of the european union","flagoftheeuropeanunion" , $string);
    $string = str_replace("flag of wales","flagofwales" , $string);
    $string = str_replace("gingerbread man","gingerbreadman" , $string);
    $string = str_replace("gingerbread house","gingerbreadhouse" , $string);
    $string = str_replace("freight train","freighttrain" , $string);
    $string = str_replace("great tit","greattit" , $string);
    $string = str_replace("kangaroo and joey","kangarooandjoey" , $string);
    $string = str_replace("wallaby and joey","wallabyandjoey" , $string);
    $string = str_replace("koala and joey","koalaandjoey" , $string);
    $string = str_replace("kangaroo with joey","kangaroowithjoey" , $string);
    $string = str_replace("koala with joey","koalawithjoey" , $string);
    $string = str_replace("vintage car","vintagecar" , $string);
    $string = str_replace("racing car","racingcar" , $string);
    $string = str_replace("otter and pup","otterandpup" , $string);
    $string = str_replace("walrus and pup","walrusandpup" , $string);
    $string = str_replace("otter pup","otterpup" , $string);
    $string = str_replace("film projector","filmprojector" , $string);
    $string = str_replace("dwarf planet","dwarfplanet" , $string);
    $string = str_replace("saturn and titan","saturnandtitan" , $string);
    $string = str_replace("solar system","solarsystem" , $string);
    $string = str_replace("jupiter and europa","jupiterandeuropa" , $string);
    $string = str_replace("mulberry bush","mulberrybush" , $string);
    $string = str_replace("parking meter","parkingmeter" , $string);
    $string = str_replace("sikh temple","sikhtemple" , $string);
    $string = str_replace("super store","superstore" , $string);
    $string = str_replace("tyrannosaurus rex","tyrannosaurusrex" , $string);
    $string = str_replace("t rex","trex" , $string);
    $string = str_replace("cotton boll","cottonboll" , $string);
    $string = str_replace("thistle down","thistledown" , $string);
    $string = str_replace("thistle seed","thistleseed" , $string);
    $string = str_replace("door knocker","doorknocker" , $string);
    $string = str_replace("door bell","doorbell" , $string);
    $string = str_replace("entrance hall","entrancehall" , $string);
    $string = str_replace("concertina accordion","concertinaaccordion" , $string);
    $string = str_replace("piano accordion","pianoaccordion" , $string);
    $string = str_replace("mouth organ","mouthorgan" , $string);
    $string = str_replace("multi coloured","multicoloured" , $string);
    $string = str_replace("piano accordion","pianoaccordion" , $string);
    $string = str_replace("blue footed booby","bluefootedbooby" , $string);
    $string = str_replace("bonfire night","bonfirenight" , $string);
    $string = str_replace("night time","nighttime" , $string);

    return $string;
}

function interpret_string($string){
    $max = 1;
    $words = explode(" ", $string);
    if(in_array("things",$words)){$max = 3;}
    $string = parse_string($string);
    $images = scandir("images");
    $words = explode(" ", $string);
    $new = [];
    for($x = 0; $x < count($words); $x++){
        if($words[$x] != ""){
            array_push($new,$words[$x]);
        }

    }
    if(count($new) == 0){return "error";}
    $words = $new;
    $oldwords = $words;
    $i = new Inflect();
    for($n = 0; $n < count($words); $n++){$words[$n] = $i::singularize($words[$n]);}
    if($words !== $oldwords){$max = 3;}



    if(ctype_digit($words[0])){$start = 1;}else{$start = 0;}
    for($x = $start; $x < count($words); $x++){
            if(strlen($words[$x]) == 1){
                $images = filter_images_with_letter($images, $words[$x]);
            }else{
                $images = filter_images_with_word($images, $words[$x]);
            }

    }
    if(count($images) == 0){return "error";}
    if($start == 1){
        $images = resize_array($images, min((int)$words[0],10));
    }else{
        $images = resize_array($images, $max);
    }
    return $images;
}

function display_array($array){
    for($i = 0; $i < count($array); $i++){
        $path = ("images/" . $array[$i]);
        echo '<img src="data:image/jpeg;base64,'.base64_encode( file_get_contents($path) ).'"/>';
    }
}

function get_word_from_image($name){
    return explode(".", $name)[0];
}



